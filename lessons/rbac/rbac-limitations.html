<!DOCTYPE html><html><head><meta charSet="utf-8" data-next-head=""/><meta name="viewport" content="width=device-width" data-next-head=""/><link rel="apple-touch-icon" sizes="180x180" href="/fem-permission-systems-that-scale/images/apple-touch-icon.png" data-next-head=""/><link rel="icon" type="image/png" sizes="32x32" href="/fem-permission-systems-that-scale/images/favicon-32x32.png" data-next-head=""/><link rel="icon" type="image/png" sizes="16x16" href="/fem-permission-systems-that-scale/images/favicon-16x16.png" data-next-head=""/><link rel="icon" type="image/png" sizes="16x16" href="/fem-permission-systems-that-scale/images/favicon-16x16.png" data-next-head=""/><link rel="icon" type="image/x-icon" href="/fem-permission-systems-that-scale/images/favicon.ico" data-next-head=""/><title data-next-head="">RBAC Limitations – Permission Systems that Scale</title><meta name="description" content="Learn how to implement robust permission systems in your web applications. Master RBAC, ABAC, field-level permissions, and build your own authorization engine from scratch using TypeScript." data-next-head=""/><meta name="keywords" content="Permissions,Authorization,RBAC,ABAC,Access Control,TypeScript,Security,CASL,Web Dev Simplified,Frontend Masters" data-next-head=""/><meta name="og:description" content="Learn how to implement robust permission systems in your web applications. Master RBAC, ABAC, field-level permissions, and build your own authorization engine from scratch using TypeScript." data-next-head=""/><meta name="og:title" content="RBAC Limitations – Permission Systems that Scale" data-next-head=""/><meta name="og:image" content="/fem-permission-systems-that-scale/images/social-share-cover.jpg" data-next-head=""/><meta name="twitter:card" content="summary_large_image" data-next-head=""/><link data-next-font="size-adjust" rel="preconnect" href="/" crossorigin="anonymous"/><link rel="preload" href="/fem-permission-systems-that-scale/_next/static/css/3e2d260a483e4ce6.css" as="style"/><link rel="stylesheet" href="/fem-permission-systems-that-scale/_next/static/css/3e2d260a483e4ce6.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" noModule="" src="/fem-permission-systems-that-scale/_next/static/chunks/polyfills-42372ed130431b0a.js"></script><script src="/fem-permission-systems-that-scale/_next/static/chunks/webpack-561d6b920ac5fc2e.js" defer=""></script><script src="/fem-permission-systems-that-scale/_next/static/chunks/framework-2f335d22a7318891.js" defer=""></script><script src="/fem-permission-systems-that-scale/_next/static/chunks/main-8377b0572add80b6.js" defer=""></script><script src="/fem-permission-systems-that-scale/_next/static/chunks/pages/_app-ab9f88be91011ccd.js" defer=""></script><script src="/fem-permission-systems-that-scale/_next/static/chunks/pages/lessons/%5Bsection%5D/%5Bslug%5D-c23b0a3ff434a742.js" defer=""></script><script src="/fem-permission-systems-that-scale/_next/static/Z1s-VsOExbnNujkBZEKnx/_buildManifest.js" defer=""></script><script src="/fem-permission-systems-that-scale/_next/static/Z1s-VsOExbnNujkBZEKnx/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="remix-app"><header class="navbar"><h1 class="navbar-brand"><a href="/fem-permission-systems-that-scale">Permission Systems that Scale</a></h1><div class="navbar-info"></div></header><div class="content-container"><div class="main"><div class="lesson-container"><div class="lesson"><div class="lesson-content"><p>Let&#39;s summarize when RBAC works well and when you should consider alternatives.</p>
<h2>Where RBAC Excels</h2>
<p>RBAC is the right choice when your permissions are:</p>
<table>
<thead>
<tr>
<th>Characteristic</th>
<th>Example</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Role-centric</strong></td>
<td>&quot;Admins can delete, viewers can read&quot;</td>
</tr>
<tr>
<td><strong>Static</strong></td>
<td>Permissions don&#39;t change based on context</td>
</tr>
<tr>
<td><strong>Coarse-grained</strong></td>
<td>A few roles cover all use cases</td>
</tr>
<tr>
<td><strong>Limited Attribute Awareness</strong></td>
<td>Permissions depend on few or no resource attributes or context</td>
</tr>
</tbody></table>
<h2>Where RBAC Struggles</h2>
<p>RBAC breaks down when permissions depend on:</p>
<h3>1. Attributes Other Than User Role</h3>
<p>As soon as you need to create multiple permutations of permissions for different attributes (e.g., ownership, document status), RBAC starts to struggle. You end up creating very specific permissions like <code>&quot;document:update:own-unlocked-draft&quot;</code> to cover each combination which quickly becomes unmanageable.</p>
<h3>5. Environmental Factors</h3>
<p>With RBAC it is impossible to take into consideration environmental factors such as time of day, location, or other contextual information that may play a role in determining access. For example, a user may only be able to push code to production during certain hours or from specific IP addresses.</p>
<h2>The Symptom: Permission Explosion</h2>
<p>When RBAC is the wrong fit, you&#39;ll notice your permission list growing uncontrollably:</p>
<pre><code class="hljs language-typescript"><button class="copy-btn">Copy</button><span class="hljs-comment">// Started simple</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">Permission</span> = <span class="hljs-string">&quot;document:read&quot;</span> | <span class="hljs-string">&quot;document:update&quot;</span> | <span class="hljs-string">&quot;document:delete&quot;</span>

<span class="hljs-comment">// Then requirements came in...</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">Permission</span> =
  | <span class="hljs-string">&quot;document:read:all&quot;</span>
  | <span class="hljs-string">&quot;document:read:own&quot;</span>
  | <span class="hljs-string">&quot;document:read:non-draft&quot;</span>
  | <span class="hljs-string">&quot;document:read:published&quot;</span>
  | <span class="hljs-string">&quot;document:update:all&quot;</span>
  | <span class="hljs-string">&quot;document:update:unlocked&quot;</span>
  | <span class="hljs-string">&quot;document:update:own&quot;</span>
  | <span class="hljs-string">&quot;document:update:own-unlocked&quot;</span>
  | <span class="hljs-string">&quot;document:update:own-unlocked-draft&quot;</span>
  | <span class="hljs-string">&quot;document:delete:all&quot;</span>
  | <span class="hljs-string">&quot;document:delete:own&quot;</span>
<span class="hljs-comment">// ... and it keeps growing</span>
</code></pre><h2>The Hybrid Trap</h2>
<p>When teams hit RBAC limits, they often create hybrids:</p>
<pre><code class="hljs language-typescript"><button class="copy-btn">Copy</button><span class="hljs-comment">// &quot;RBAC&quot; that&#x27;s actually policy functions</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">canUpdateDocument</span>(<span class="hljs-params">user, <span class="hljs-variable language_">document</span></span>) {
  <span class="hljs-keyword">if</span> (user.<span class="hljs-property">role</span> === <span class="hljs-string">&quot;admin&quot;</span>) <span class="hljs-keyword">return</span> !<span class="hljs-variable language_">document</span>.<span class="hljs-property">isLocked</span>
  <span class="hljs-keyword">if</span> (user.<span class="hljs-property">role</span> === <span class="hljs-string">&quot;editor&quot;</span>) <span class="hljs-keyword">return</span> !<span class="hljs-variable language_">document</span>.<span class="hljs-property">isLocked</span>
  <span class="hljs-keyword">if</span> (user.<span class="hljs-property">role</span> === <span class="hljs-string">&quot;author&quot;</span>) {
    <span class="hljs-keyword">return</span> (
      <span class="hljs-variable language_">document</span>.<span class="hljs-property">creatorId</span> === user.<span class="hljs-property">id</span> &amp;&amp;
      !<span class="hljs-variable language_">document</span>.<span class="hljs-property">isLocked</span> &amp;&amp;
      <span class="hljs-variable language_">document</span>.<span class="hljs-property">status</span> === <span class="hljs-string">&quot;draft&quot;</span>
    )
  }
  <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
}
</code></pre><p>This works, but:</p>
<ul>
<li>You&#39;ve abandoned the simplicity of RBAC</li>
<li>Permission logic is scattered across helper functions</li>
<li>The <code>can(user, permission)</code> pattern is inconsistent</li>
<li>You&#39;re essentially hand-building ABAC without the structure</li>
</ul>
<h2>When to Graduate from RBAC</h2>
<p>Consider moving beyond RBAC when you find yourself:</p>
<ol>
<li><p><strong>Creating permission names with multiple conditions</strong></p>
<ul>
<li><code>&quot;document:update:own-unlocked-draft&quot;</code> is a red flag</li>
</ul>
</li>
<li><p><strong>Writing helper functions for every permission check</strong></p>
<ul>
<li>If <code>canDoX(user, resource)</code> is the norm, RBAC isn&#39;t helping</li>
</ul>
</li>
<li><p><strong>Duplicating attribute checks across the codebase</strong></p>
<ul>
<li>The same <code>document.isLocked</code> check appearing everywhere</li>
</ul>
</li>
<li><p><strong>Struggling to explain permissions to new team members</strong></p>
<ul>
<li>&quot;Well, editors can update documents, except when...&quot;</li>
</ul>
</li>
<li><p><strong>Needing different permissions for the same action based on context</strong></p>
<ul>
<li>Same &quot;edit&quot; action has different rules for drafts vs published</li>
</ul>
</li>
</ol>
<h2>The Path Forward</h2>
<p>In the next section, we&#39;ll implement <strong>ABAC</strong> and see how it elegantly handles the requirements that broke our RBAC system. ABAC is more work to set up initially, but it scales much better for complex, attribute-driven access control scenarios.</p>
</div><div class="lesson-links"><a href="/fem-permission-systems-that-scale/lessons/rbac/adding-more-permissions" class="prev">← Previous</a><a href="/fem-permission-systems-that-scale/lessons/abac/what-is-abac" class="next">Next →</a></div></div><div class="details-bg"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="154" height="154" viewBox="0 0 154 154"><defs><clipPath id="clip-path"><rect id="Rectangle_2238" data-name="Rectangle 2238" width="154" height="154" transform="translate(9467 350)" fill="#fff" stroke="#707070" stroke-width="1"></rect></clipPath><clipPath id="clip-corner-image-active"><rect width="154" height="154"></rect></clipPath></defs><g id="corner-image-active" clip-path="url(#clip-corner-image-active)"><g id="Corner-image-active-2" data-name="Corner-image-active" transform="translate(-9467 -350)" clip-path="url(#clip-path)"><path id="Subtraction_34" data-name="Subtraction 34" d="M-3857.365,1740.766h0l-7.07-7.07,12.89-12.89v14.142l-5.818,5.818Zm-14.142-14.142h0l-7.071-7.07,27.033-27.033v14.143l-19.96,19.96Zm-14.143-14.143h0l-7.07-7.069,41.175-41.175v14.142Zm-14.142-14.142h0l-7.07-7.069,55.317-55.317v14.142Zm-14.142-14.142h0l-7.07-7.069,69.459-69.459v14.142Zm-14.142-14.142h0l-7.07-7.069,76.739-76.739h6.862v7.28Zm-14.143-14.143h0l-7.07-7.069,62.6-62.6h14.142Zm-14.142-14.142h0l-7.07-7.069,48.454-48.454h14.142Zm-14.142-14.142h0l-7.07-7.069,34.312-34.312h14.142Zm-14.142-14.142h0l-7.07-7.069,20.17-20.17h14.142Zm-14.142-14.142h0l-7.071-7.071,6.027-6.027h14.144l-13.1,13.1Zm367.24-56.114v-.909l.455.455-.453.453Z" transform="translate(13472.546 -1236.766)" fill="var(--corner-fill)"></path></g></g></svg></div></div></div></div><footer class="footer"><ul class="socials"><li class="social"><a href="https://twitter.com/DevSimplified"><svg fill="none" height="100%" width="32" xmlns="http://www.w3.org/2000/svg" viewBox="0.254 0.25 500 451.95400000000006"><path d="M394.033.25h76.67L303.202 191.693l197.052 260.511h-154.29L225.118 294.205 86.844 452.204H10.127l179.16-204.77L.254.25H158.46l109.234 144.417zm-26.908 406.063h42.483L135.377 43.73h-45.59z" fill="var(--footer-icons)"></path></svg></a></li><li class="social"><a href="https://github.com/WebDevSimplified"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="32" height="32" viewBox="0 0 32 32"><defs><clipPath id="clip-github-social"><rect width="32" height="32"></rect></clipPath></defs><g id="github-social" clip-path="url(#clip-github-social)"><g id="Group_272" data-name="Group 272" transform="translate(13522.5 -6994)"><path id="Subtraction_33" data-name="Subtraction 33" d="M-24967.5,8041a15.9,15.9,0,0,1-11.312-4.688A15.893,15.893,0,0,1-24983.5,8025a15.893,15.893,0,0,1,4.689-11.315A15.894,15.894,0,0,1-24967.5,8009a15.894,15.894,0,0,1,11.313,4.686A15.893,15.893,0,0,1-24951.5,8025a15.893,15.893,0,0,1-4.689,11.313A15.9,15.9,0,0,1-24967.5,8041Zm-3.781-4.571h0v3.918h7.895v-6.665a1.836,1.836,0,0,0-1.2-1.718c5.1-.617,7.467-2.975,7.467-7.424a7.176,7.176,0,0,0-1.637-4.728,6.74,6.74,0,0,0,.275-1.812,4.34,4.34,0,0,0-.52-2.452.574.574,0,0,0-.359-.1c-1.061,0-3.465,1.411-3.936,1.694a16.644,16.644,0,0,0-4.2-.489,16.379,16.379,0,0,0-3.969.445c-.846-.5-2.91-1.649-3.859-1.649a.566.566,0,0,0-.354.095,4.3,4.3,0,0,0-.521,2.452,6.7,6.7,0,0,0,.244,1.718,7.346,7.346,0,0,0-1.6,4.822,7.263,7.263,0,0,0,1.533,4.985c1.193,1.359,3.115,2.165,5.871,2.464a1.826,1.826,0,0,0-1.129,1.693v.5h0l-.006,0a7.121,7.121,0,0,1-2.033.363,2.608,2.608,0,0,1-.965-.158,4.438,4.438,0,0,1-1.836-1.881,2.361,2.361,0,0,0-1.248-1.091,3.472,3.472,0,0,0-1.217-.3.584.584,0,0,0-.545.224.282.282,0,0,0,.027.367,1.875,1.875,0,0,0,.447.307,4.732,4.732,0,0,1,.561.355,10.726,10.726,0,0,1,1.682,2.755c.043.092.078.163.105.217a3.876,3.876,0,0,0,2.42,1.185,6.036,6.036,0,0,0,.607.025c.875,0,1.988-.124,2-.125Z" transform="translate(11461 -1015)" fill="var(--footer-icons)"></path><g id="Ellipse_670" data-name="Ellipse 670" transform="translate(-13522.5 6994)" fill="none" stroke="var(--footer-icons)" stroke-width="1"><circle cx="16" cy="16" r="16" stroke="none"></circle><circle cx="16" cy="16" r="15.5" fill="none"></circle></g></g></g></svg></a></li><li class="social"><div class="terms"><p>Content Licensed Under CC-BY-NC-4.0</p><p>Code Samples and Exercises Licensed Under Apache 2.0</p><p>Site Designed by<!-- --> <a href="https://www.alexdanielson.com/">Alex Danielson</a></p></div></li></ul><div class="theme-icons"><button aria-label="Activate dark mode" title="Activate dark mode" class="theme-toggle"><svg xmlns="http://www.w3.org/2000/svg" width="36px" height="100%" viewBox="0 -960 960 960" fill="var(--text-footer)" role="img"><title>Dark Mode Icon</title><path d="M480-120q-150 0-255-105T120-480q0-150 105-255t255-105q14 0 27.5 1t26.5 3q-41 29-65.5 75.5T444-660q0 90 63 153t153 63q55 0 101-24.5t75-65.5q2 13 3 26.5t1 27.5q0 150-105 255T480-120Zm0-80q88 0 158-48.5T740-375q-20 5-40 8t-40 3q-123 0-209.5-86.5T364-660q0-20 3-40t8-40q-78 32-126.5 102T200-480q0 116 82 198t198 82Z"></path></svg></button></div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"attributes":{"title":"RBAC Limitations"},"html":"\u003cp\u003eLet\u0026#39;s summarize when RBAC works well and when you should consider alternatives.\u003c/p\u003e\n\u003ch2\u003eWhere RBAC Excels\u003c/h2\u003e\n\u003cp\u003eRBAC is the right choice when your permissions are:\u003c/p\u003e\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003eCharacteristic\u003c/th\u003e\n\u003cth\u003eExample\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\u003ctr\u003e\n\u003ctd\u003e\u003cstrong\u003eRole-centric\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003e\u0026quot;Admins can delete, viewers can read\u0026quot;\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cstrong\u003eStatic\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003ePermissions don\u0026#39;t change based on context\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cstrong\u003eCoarse-grained\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003eA few roles cover all use cases\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cstrong\u003eLimited Attribute Awareness\u003c/strong\u003e\u003c/td\u003e\n\u003ctd\u003ePermissions depend on few or no resource attributes or context\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\u003c/table\u003e\n\u003ch2\u003eWhere RBAC Struggles\u003c/h2\u003e\n\u003cp\u003eRBAC breaks down when permissions depend on:\u003c/p\u003e\n\u003ch3\u003e1. Attributes Other Than User Role\u003c/h3\u003e\n\u003cp\u003eAs soon as you need to create multiple permutations of permissions for different attributes (e.g., ownership, document status), RBAC starts to struggle. You end up creating very specific permissions like \u003ccode\u003e\u0026quot;document:update:own-unlocked-draft\u0026quot;\u003c/code\u003e to cover each combination which quickly becomes unmanageable.\u003c/p\u003e\n\u003ch3\u003e5. Environmental Factors\u003c/h3\u003e\n\u003cp\u003eWith RBAC it is impossible to take into consideration environmental factors such as time of day, location, or other contextual information that may play a role in determining access. For example, a user may only be able to push code to production during certain hours or from specific IP addresses.\u003c/p\u003e\n\u003ch2\u003eThe Symptom: Permission Explosion\u003c/h2\u003e\n\u003cp\u003eWhen RBAC is the wrong fit, you\u0026#39;ll notice your permission list growing uncontrollably:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-typescript\"\u003e\u003cbutton class=\"copy-btn\"\u003eCopy\u003c/button\u003e\u003cspan class=\"hljs-comment\"\u003e// Started simple\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003etype\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003ePermission\u003c/span\u003e = \u003cspan class=\"hljs-string\"\u003e\u0026quot;document:read\u0026quot;\u003c/span\u003e | \u003cspan class=\"hljs-string\"\u003e\u0026quot;document:update\u0026quot;\u003c/span\u003e | \u003cspan class=\"hljs-string\"\u003e\u0026quot;document:delete\u0026quot;\u003c/span\u003e\n\n\u003cspan class=\"hljs-comment\"\u003e// Then requirements came in...\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003etype\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003ePermission\u003c/span\u003e =\n  | \u003cspan class=\"hljs-string\"\u003e\u0026quot;document:read:all\u0026quot;\u003c/span\u003e\n  | \u003cspan class=\"hljs-string\"\u003e\u0026quot;document:read:own\u0026quot;\u003c/span\u003e\n  | \u003cspan class=\"hljs-string\"\u003e\u0026quot;document:read:non-draft\u0026quot;\u003c/span\u003e\n  | \u003cspan class=\"hljs-string\"\u003e\u0026quot;document:read:published\u0026quot;\u003c/span\u003e\n  | \u003cspan class=\"hljs-string\"\u003e\u0026quot;document:update:all\u0026quot;\u003c/span\u003e\n  | \u003cspan class=\"hljs-string\"\u003e\u0026quot;document:update:unlocked\u0026quot;\u003c/span\u003e\n  | \u003cspan class=\"hljs-string\"\u003e\u0026quot;document:update:own\u0026quot;\u003c/span\u003e\n  | \u003cspan class=\"hljs-string\"\u003e\u0026quot;document:update:own-unlocked\u0026quot;\u003c/span\u003e\n  | \u003cspan class=\"hljs-string\"\u003e\u0026quot;document:update:own-unlocked-draft\u0026quot;\u003c/span\u003e\n  | \u003cspan class=\"hljs-string\"\u003e\u0026quot;document:delete:all\u0026quot;\u003c/span\u003e\n  | \u003cspan class=\"hljs-string\"\u003e\u0026quot;document:delete:own\u0026quot;\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e// ... and it keeps growing\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003ch2\u003eThe Hybrid Trap\u003c/h2\u003e\n\u003cp\u003eWhen teams hit RBAC limits, they often create hybrids:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-typescript\"\u003e\u003cbutton class=\"copy-btn\"\u003eCopy\u003c/button\u003e\u003cspan class=\"hljs-comment\"\u003e// \u0026quot;RBAC\u0026quot; that\u0026#x27;s actually policy functions\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003ecanUpdateDocument\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003euser, \u003cspan class=\"hljs-variable language_\"\u003edocument\u003c/span\u003e\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (user.\u003cspan class=\"hljs-property\"\u003erole\u003c/span\u003e === \u003cspan class=\"hljs-string\"\u003e\u0026quot;admin\u0026quot;\u003c/span\u003e) \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e !\u003cspan class=\"hljs-variable language_\"\u003edocument\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eisLocked\u003c/span\u003e\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (user.\u003cspan class=\"hljs-property\"\u003erole\u003c/span\u003e === \u003cspan class=\"hljs-string\"\u003e\u0026quot;editor\u0026quot;\u003c/span\u003e) \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e !\u003cspan class=\"hljs-variable language_\"\u003edocument\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eisLocked\u003c/span\u003e\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (user.\u003cspan class=\"hljs-property\"\u003erole\u003c/span\u003e === \u003cspan class=\"hljs-string\"\u003e\u0026quot;author\u0026quot;\u003c/span\u003e) {\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e (\n      \u003cspan class=\"hljs-variable language_\"\u003edocument\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003ecreatorId\u003c/span\u003e === user.\u003cspan class=\"hljs-property\"\u003eid\u003c/span\u003e \u0026amp;\u0026amp;\n      !\u003cspan class=\"hljs-variable language_\"\u003edocument\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eisLocked\u003c/span\u003e \u0026amp;\u0026amp;\n      \u003cspan class=\"hljs-variable language_\"\u003edocument\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003estatus\u003c/span\u003e === \u003cspan class=\"hljs-string\"\u003e\u0026quot;draft\u0026quot;\u003c/span\u003e\n    )\n  }\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-literal\"\u003efalse\u003c/span\u003e\n}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThis works, but:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eYou\u0026#39;ve abandoned the simplicity of RBAC\u003c/li\u003e\n\u003cli\u003ePermission logic is scattered across helper functions\u003c/li\u003e\n\u003cli\u003eThe \u003ccode\u003ecan(user, permission)\u003c/code\u003e pattern is inconsistent\u003c/li\u003e\n\u003cli\u003eYou\u0026#39;re essentially hand-building ABAC without the structure\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003eWhen to Graduate from RBAC\u003c/h2\u003e\n\u003cp\u003eConsider moving beyond RBAC when you find yourself:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e\u003cp\u003e\u003cstrong\u003eCreating permission names with multiple conditions\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003e\u0026quot;document:update:own-unlocked-draft\u0026quot;\u003c/code\u003e is a red flag\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e\u003cstrong\u003eWriting helper functions for every permission check\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eIf \u003ccode\u003ecanDoX(user, resource)\u003c/code\u003e is the norm, RBAC isn\u0026#39;t helping\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e\u003cstrong\u003eDuplicating attribute checks across the codebase\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eThe same \u003ccode\u003edocument.isLocked\u003c/code\u003e check appearing everywhere\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e\u003cstrong\u003eStruggling to explain permissions to new team members\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u0026quot;Well, editors can update documents, except when...\u0026quot;\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e\u003cstrong\u003eNeeding different permissions for the same action based on context\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eSame \u0026quot;edit\u0026quot; action has different rules for drafts vs published\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch2\u003eThe Path Forward\u003c/h2\u003e\n\u003cp\u003eIn the next section, we\u0026#39;ll implement \u003cstrong\u003eABAC\u003c/strong\u003e and see how it elegantly handles the requirements that broke our RBAC system. ABAC is more work to set up initially, but it scales much better for complex, attribute-driven access control scenarios.\u003c/p\u003e\n","markdown":"\nLet's summarize when RBAC works well and when you should consider alternatives.\n\n## Where RBAC Excels\n\nRBAC is the right choice when your permissions are:\n\n| Characteristic                  | Example                                                        |\n| ------------------------------- | -------------------------------------------------------------- |\n| **Role-centric**                | \"Admins can delete, viewers can read\"                          |\n| **Static**                      | Permissions don't change based on context                      |\n| **Coarse-grained**              | A few roles cover all use cases                                |\n| **Limited Attribute Awareness** | Permissions depend on few or no resource attributes or context |\n\n## Where RBAC Struggles\n\nRBAC breaks down when permissions depend on:\n\n### 1. Attributes Other Than User Role\n\nAs soon as you need to create multiple permutations of permissions for different attributes (e.g., ownership, document status), RBAC starts to struggle. You end up creating very specific permissions like `\"document:update:own-unlocked-draft\"` to cover each combination which quickly becomes unmanageable.\n\n### 5. Environmental Factors\n\nWith RBAC it is impossible to take into consideration environmental factors such as time of day, location, or other contextual information that may play a role in determining access. For example, a user may only be able to push code to production during certain hours or from specific IP addresses.\n\n## The Symptom: Permission Explosion\n\nWhen RBAC is the wrong fit, you'll notice your permission list growing uncontrollably:\n\n```typescript\n// Started simple\ntype Permission = \"document:read\" | \"document:update\" | \"document:delete\"\n\n// Then requirements came in...\ntype Permission =\n  | \"document:read:all\"\n  | \"document:read:own\"\n  | \"document:read:non-draft\"\n  | \"document:read:published\"\n  | \"document:update:all\"\n  | \"document:update:unlocked\"\n  | \"document:update:own\"\n  | \"document:update:own-unlocked\"\n  | \"document:update:own-unlocked-draft\"\n  | \"document:delete:all\"\n  | \"document:delete:own\"\n// ... and it keeps growing\n```\n\n## The Hybrid Trap\n\nWhen teams hit RBAC limits, they often create hybrids:\n\n```typescript\n// \"RBAC\" that's actually policy functions\nexport function canUpdateDocument(user, document) {\n  if (user.role === \"admin\") return !document.isLocked\n  if (user.role === \"editor\") return !document.isLocked\n  if (user.role === \"author\") {\n    return (\n      document.creatorId === user.id \u0026\u0026\n      !document.isLocked \u0026\u0026\n      document.status === \"draft\"\n    )\n  }\n  return false\n}\n```\n\nThis works, but:\n\n- You've abandoned the simplicity of RBAC\n- Permission logic is scattered across helper functions\n- The `can(user, permission)` pattern is inconsistent\n- You're essentially hand-building ABAC without the structure\n\n## When to Graduate from RBAC\n\nConsider moving beyond RBAC when you find yourself:\n\n1. **Creating permission names with multiple conditions**\n   - `\"document:update:own-unlocked-draft\"` is a red flag\n\n2. **Writing helper functions for every permission check**\n   - If `canDoX(user, resource)` is the norm, RBAC isn't helping\n\n3. **Duplicating attribute checks across the codebase**\n   - The same `document.isLocked` check appearing everywhere\n\n4. **Struggling to explain permissions to new team members**\n   - \"Well, editors can update documents, except when...\"\n\n5. **Needing different permissions for the same action based on context**\n   - Same \"edit\" action has different rules for drafts vs published\n\n## The Path Forward\n\nIn the next section, we'll implement **ABAC** and see how it elegantly handles the requirements that broke our RBAC system. ABAC is more work to set up initially, but it scales much better for complex, attribute-driven access control scenarios.\n","slug":"rbac-limitations","title":"RBAC Limitations","section":"Role-Based Access Control (RBAC)","icon":"shield","filePath":"/home/runner/work/fem-permission-systems-that-scale/fem-permission-systems-that-scale/lessons/03-rbac/D-rbac-limitations.md","nextSlug":"/fem-permission-systems-that-scale/lessons/abac/what-is-abac","prevSlug":"/fem-permission-systems-that-scale/lessons/rbac/adding-more-permissions"}},"__N_SSG":true},"page":"/lessons/[section]/[slug]","query":{"section":"rbac","slug":"rbac-limitations"},"buildId":"Z1s-VsOExbnNujkBZEKnx","assetPrefix":"/fem-permission-systems-that-scale","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>