{"pageProps":{"post":{"attributes":{"title":"What is ABAC?"},"html":"<p><strong>Attribute-Based Access Control (ABAC)</strong> is a permission system that makes decisions based on <strong>attributes</strong> of users, resources, and the environment. Instead of asking &quot;Does this role have permission?&quot;, ABAC asks &quot;Do the attributes of this request satisfy the policy?&quot;</p>\n<h2>The Core Concept</h2>\n<p>ABAC evaluates permissions using four categories of attributes:</p>\n<table>\n<thead>\n<tr>\n<th>Category</th>\n<th>Description</th>\n<th>Examples</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><strong>Subject</strong></td>\n<td>Who is making the request</td>\n<td><code>user.role</code>, <code>user.department</code>, <code>user.id</code></td>\n</tr>\n<tr>\n<td><strong>Resource</strong></td>\n<td>What is being accessed</td>\n<td><code>document.status</code>, <code>document.creatorId</code>, <code>document.isLocked</code></td>\n</tr>\n<tr>\n<td><strong>Action</strong></td>\n<td>What operation is requested</td>\n<td><code>read</code>, <code>create</code>, <code>update</code>, <code>delete</code></td>\n</tr>\n<tr>\n<td><strong>Environment</strong></td>\n<td>Contextual factors</td>\n<td>Time of day, IP address, device type</td>\n</tr>\n</tbody></table>\n<h2>How ABAC Differs from RBAC</h2>\n<pre><code class=\"hljs language-text\"><button class=\"copy-btn\">Copy</button>RBAC:  User → Role → Permission\nABAC:  (Subject + Resource + Action + Environment) → Policy → Decision\n</code></pre><p>In RBAC, you ask: &quot;Does the admin role have the document:update permission?&quot;</p>\n<p>In ABAC, you ask: &quot;Can a user with <code>role=editor</code> and <code>department=Engineering</code> update a document with <code>status=draft</code> and <code>isLocked=false</code>?&quot;</p>\n<h2>A Simple ABAC Policy</h2>\n<p>Here&#39;s what an ABAC policy looks like conceptually:</p>\n<pre><code class=\"hljs language-typescript\"><button class=\"copy-btn\">Copy</button><span class=\"hljs-comment\">// &quot;Authors can edit their own unlocked draft documents&quot;</span>\n{\n  <span class=\"hljs-attr\">action</span>: <span class=\"hljs-string\">&quot;update&quot;</span>,\n  <span class=\"hljs-attr\">resource</span>: <span class=\"hljs-string\">&quot;document&quot;</span>,\n  <span class=\"hljs-attr\">conditions</span>: {\n    <span class=\"hljs-string\">&quot;user.role&quot;</span>: <span class=\"hljs-string\">&quot;author&quot;</span>,\n    <span class=\"hljs-string\">&quot;document.creatorId&quot;</span>: <span class=\"hljs-string\">&quot;user.id&quot;</span>,  <span class=\"hljs-comment\">// Dynamic comparison!</span>\n    <span class=\"hljs-string\">&quot;document.isLocked&quot;</span>: <span class=\"hljs-literal\">false</span>,\n    <span class=\"hljs-string\">&quot;document.status&quot;</span>: <span class=\"hljs-string\">&quot;draft&quot;</span>\n  }\n}\n</code></pre><h2>Why ABAC Solves Our Problems</h2>\n<p>Remember the permissions that broke our RBAC system?</p>\n<table>\n<thead>\n<tr>\n<th>Requirement</th>\n<th>RBAC Approach</th>\n<th>ABAC Approach</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>&quot;Edit own documents&quot;</td>\n<td>Create <code>document:update:own</code> permission + manual check</td>\n<td><code>condition: { creatorId: user.id }</code></td>\n</tr>\n<tr>\n<td>&quot;Edit unlocked only&quot;</td>\n<td>Create <code>document:update:unlocked</code> permission + manual check</td>\n<td><code>condition: { isLocked: false }</code></td>\n</tr>\n<tr>\n<td>&quot;View non-drafts&quot;</td>\n<td>Create <code>document:read:non-draft</code> permission + manual check</td>\n<td><code>condition: { status: { $ne: &quot;draft&quot; } }</code></td>\n</tr>\n</tbody></table>\n<p>ABAC expresses these naturally as <strong>conditions</strong>, not encoded permission strings.</p>\n<h2>ABAC in Code</h2>\n<p>Here&#39;s a simplified ABAC implementation:</p>\n<pre><code class=\"hljs language-typescript\"><button class=\"copy-btn\">Copy</button><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">getUserPermissions</span>(<span class=\"hljs-params\"><span class=\"hljs-attr\">user</span>: <span class=\"hljs-title class_\">User</span></span>) {\n  <span class=\"hljs-keyword\">const</span> builder = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">PermissionBuilder</span>()\n\n  <span class=\"hljs-keyword\">if</span> (user.<span class=\"hljs-property\">role</span> === <span class=\"hljs-string\">&quot;author&quot;</span>) {\n    builder\n      .<span class=\"hljs-title function_\">allow</span>(<span class=\"hljs-string\">&quot;document&quot;</span>, <span class=\"hljs-string\">&quot;read&quot;</span>, { <span class=\"hljs-attr\">status</span>: <span class=\"hljs-string\">&quot;published&quot;</span> })\n      .<span class=\"hljs-title function_\">allow</span>(<span class=\"hljs-string\">&quot;document&quot;</span>, <span class=\"hljs-string\">&quot;read&quot;</span>, { <span class=\"hljs-attr\">status</span>: <span class=\"hljs-string\">&quot;archived&quot;</span> })\n      .<span class=\"hljs-title function_\">allow</span>(<span class=\"hljs-string\">&quot;document&quot;</span>, <span class=\"hljs-string\">&quot;read&quot;</span>, { <span class=\"hljs-attr\">status</span>: <span class=\"hljs-string\">&quot;draft&quot;</span>, <span class=\"hljs-attr\">creatorId</span>: user.<span class=\"hljs-property\">id</span> })\n      .<span class=\"hljs-title function_\">allow</span>(<span class=\"hljs-string\">&quot;document&quot;</span>, <span class=\"hljs-string\">&quot;create&quot;</span>)\n      .<span class=\"hljs-title function_\">allow</span>(<span class=\"hljs-string\">&quot;document&quot;</span>, <span class=\"hljs-string\">&quot;update&quot;</span>, {\n        <span class=\"hljs-attr\">creatorId</span>: user.<span class=\"hljs-property\">id</span>,\n        <span class=\"hljs-attr\">isLocked</span>: <span class=\"hljs-literal\">false</span>,\n        <span class=\"hljs-attr\">status</span>: <span class=\"hljs-string\">&quot;draft&quot;</span>,\n      })\n  }\n\n  <span class=\"hljs-keyword\">return</span> builder.<span class=\"hljs-title function_\">build</span>()\n}\n\n<span class=\"hljs-comment\">// Usage</span>\n<span class=\"hljs-keyword\">const</span> permissions = <span class=\"hljs-title function_\">getUserPermissions</span>(user)\npermissions.<span class=\"hljs-title function_\">can</span>(<span class=\"hljs-string\">&quot;document&quot;</span>, <span class=\"hljs-string\">&quot;update&quot;</span>, <span class=\"hljs-variable language_\">document</span>) <span class=\"hljs-comment\">// Checks all conditions!</span>\n</code></pre><h2>When ABAC Shines</h2>\n<p>ABAC is ideal when:</p>\n<ul>\n<li>Permissions depend on <strong>resource attributes</strong> (status, ownership, flags)</li>\n<li>Permissions depend on <strong>relationships</strong> (creator, team member, project owner)</li>\n<li>You need <strong>fine-grained control</strong> over specific fields</li>\n<li>Business rules are <strong>complex and context-dependent</strong></li>\n<li>You want a <strong>single, consistent API</strong> for all permission checks</li>\n</ul>\n<h2>When ABAC Adds Complexity</h2>\n<p>ABAC isn&#39;t free—it comes with tradeoffs:</p>\n<ul>\n<li><strong>More complex to reason about</strong> than simple role checks</li>\n<li><strong>Policies can become intricate</strong> with many conditions</li>\n<li><strong>Performance considerations</strong> when checking many conditions</li>\n<li><strong>Database queries</strong> may need to incorporate permission filters</li>\n<li><strong>Type safety</strong> requires careful design</li>\n</ul>\n<h2>Our Implementation Plan</h2>\n<p>In the upcoming lessons, we&#39;ll:</p>\n<ol>\n<li><strong>Convert</strong> our RBAC system to a basic ABAC system (same functionality, better architecture)</li>\n<li><strong>Add advanced features</strong> like field-level permissions</li>\n<li><strong>Create a services layer</strong> that centralizes all authorization logic</li>\n<li><strong>Convert permissions to database queries</strong> for efficient filtering</li>\n</ol>\n<p>Let&#39;s start by building a clean ABAC foundation.</p>\n","markdown":"\n**Attribute-Based Access Control (ABAC)** is a permission system that makes decisions based on **attributes** of users, resources, and the environment. Instead of asking \"Does this role have permission?\", ABAC asks \"Do the attributes of this request satisfy the policy?\"\n\n## The Core Concept\n\nABAC evaluates permissions using four categories of attributes:\n\n| Category        | Description                 | Examples                                                     |\n| --------------- | --------------------------- | ------------------------------------------------------------ |\n| **Subject**     | Who is making the request   | `user.role`, `user.department`, `user.id`                    |\n| **Resource**    | What is being accessed      | `document.status`, `document.creatorId`, `document.isLocked` |\n| **Action**      | What operation is requested | `read`, `create`, `update`, `delete`                         |\n| **Environment** | Contextual factors          | Time of day, IP address, device type                         |\n\n## How ABAC Differs from RBAC\n\n```text\nRBAC:  User → Role → Permission\nABAC:  (Subject + Resource + Action + Environment) → Policy → Decision\n```\n\nIn RBAC, you ask: \"Does the admin role have the document:update permission?\"\n\nIn ABAC, you ask: \"Can a user with `role=editor` and `department=Engineering` update a document with `status=draft` and `isLocked=false`?\"\n\n## A Simple ABAC Policy\n\nHere's what an ABAC policy looks like conceptually:\n\n```typescript\n// \"Authors can edit their own unlocked draft documents\"\n{\n  action: \"update\",\n  resource: \"document\",\n  conditions: {\n    \"user.role\": \"author\",\n    \"document.creatorId\": \"user.id\",  // Dynamic comparison!\n    \"document.isLocked\": false,\n    \"document.status\": \"draft\"\n  }\n}\n```\n\n## Why ABAC Solves Our Problems\n\nRemember the permissions that broke our RBAC system?\n\n| Requirement          | RBAC Approach                                               | ABAC Approach                             |\n| -------------------- | ----------------------------------------------------------- | ----------------------------------------- |\n| \"Edit own documents\" | Create `document:update:own` permission + manual check      | `condition: { creatorId: user.id }`       |\n| \"Edit unlocked only\" | Create `document:update:unlocked` permission + manual check | `condition: { isLocked: false }`          |\n| \"View non-drafts\"    | Create `document:read:non-draft` permission + manual check  | `condition: { status: { $ne: \"draft\" } }` |\n\nABAC expresses these naturally as **conditions**, not encoded permission strings.\n\n## ABAC in Code\n\nHere's a simplified ABAC implementation:\n\n```typescript\nfunction getUserPermissions(user: User) {\n  const builder = new PermissionBuilder()\n\n  if (user.role === \"author\") {\n    builder\n      .allow(\"document\", \"read\", { status: \"published\" })\n      .allow(\"document\", \"read\", { status: \"archived\" })\n      .allow(\"document\", \"read\", { status: \"draft\", creatorId: user.id })\n      .allow(\"document\", \"create\")\n      .allow(\"document\", \"update\", {\n        creatorId: user.id,\n        isLocked: false,\n        status: \"draft\",\n      })\n  }\n\n  return builder.build()\n}\n\n// Usage\nconst permissions = getUserPermissions(user)\npermissions.can(\"document\", \"update\", document) // Checks all conditions!\n```\n\n## When ABAC Shines\n\nABAC is ideal when:\n\n- Permissions depend on **resource attributes** (status, ownership, flags)\n- Permissions depend on **relationships** (creator, team member, project owner)\n- You need **fine-grained control** over specific fields\n- Business rules are **complex and context-dependent**\n- You want a **single, consistent API** for all permission checks\n\n## When ABAC Adds Complexity\n\nABAC isn't free—it comes with tradeoffs:\n\n- **More complex to reason about** than simple role checks\n- **Policies can become intricate** with many conditions\n- **Performance considerations** when checking many conditions\n- **Database queries** may need to incorporate permission filters\n- **Type safety** requires careful design\n\n## Our Implementation Plan\n\nIn the upcoming lessons, we'll:\n\n1. **Convert** our RBAC system to a basic ABAC system (same functionality, better architecture)\n2. **Add advanced features** like field-level permissions\n3. **Create a services layer** that centralizes all authorization logic\n4. **Convert permissions to database queries** for efficient filtering\n\nLet's start by building a clean ABAC foundation.\n","slug":"what-is-abac","title":"What is ABAC?","section":"Attribute-Based Access Control (ABAC)","icon":"cog","filePath":"/home/runner/work/fem-permission-systems-that-scale/fem-permission-systems-that-scale/lessons/04-abac/A-what-is-abac.md","nextSlug":"/fem-permission-systems-that-scale/lessons/abac/converting-to-abac","prevSlug":"/fem-permission-systems-that-scale/lessons/rbac/rbac-limitations"}},"__N_SSG":true}